<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <base href="./">
    <title>TEE-FL-0G Mainnet Dashboard | Balkeum Labs</title>
    <meta name="description" content="Federated Learning on 0G Mainnet - Live deployment dashboard showing contracts, transactions, and pipeline execution">
    <link rel="stylesheet" href="css/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <div class="logo-section">
                    <h1 class="title">TEE-FL-0G</h1>
                    <p class="subtitle">Federated Learning on 0G Mainnet</p>
                </div>
                <div class="status-badge">
                    <span class="status-dot active"></span>
                    <span class="status-text">Mainnet Active</span>
                </div>
            </div>
        </header>

        <!-- Network Info -->
        <section class="network-info">
            <div class="info-card">
                <div class="info-item">
                    <span class="info-label">Network</span>
                    <span class="info-value">0G Mainnet</span>
                </div>
                <div class="info-item">
                    <span class="info-label">Chain ID</span>
                    <span class="info-value">16661</span>
                </div>
                <div class="info-item">
                    <span class="info-label">Block Explorer</span>
                    <a href="https://chainscan.0g.ai" target="_blank" class="info-link">chainscan.0g.ai</a>
                </div>
                <div class="info-item">
                    <span class="info-label">Deployed</span>
                    <span class="info-value" id="deployment-date">Loading...</span>
                </div>
            </div>
        </section>

        <!-- Contract Addresses -->
        <section class="contracts-section">
            <h2 class="section-title">Smart Contracts</h2>
            <div class="contracts-grid">
                <div class="contract-card">
                    <div class="contract-header">
                        <h3 class="contract-name">AccessRegistry</h3>
                        <span class="contract-badge">Access Control</span>
                    </div>
                    <div class="contract-address" id="access-registry-address">Loading...</div>
                    <a href="#" id="access-registry-link" target="_blank" class="explorer-link">
                        View on Block Explorer →
                    </a>
                </div>
                <div class="contract-card">
                    <div class="contract-header">
                        <h3 class="contract-name">EpochManager</h3>
                        <span class="contract-badge">Epoch Lifecycle</span>
                    </div>
                    <div class="contract-address" id="epoch-manager-address">Loading...</div>
                    <a href="#" id="epoch-manager-link" target="_blank" class="explorer-link">
                        View on Block Explorer →
                    </a>
                </div>
            </div>
        </section>

        <!-- Pipeline Visualization -->
        <section class="pipeline-section">
            <h2 class="section-title">Federated Learning Pipeline - Epoch 1</h2>
            <div class="pipeline-container">
                <div class="pipeline-step completed" data-step="1">
                    <div class="step-icon">1</div>
                    <div class="step-content">
                        <h3 class="step-title">Start Epoch</h3>
                        <p class="step-description">Initialize epoch with model hash</p>
                        <div class="step-details" id="step-1-details">Loading...</div>
                    </div>
                </div>
                <div class="pipeline-arrow">→</div>
                <div class="pipeline-step completed" data-step="2">
                    <div class="step-icon">2</div>
                    <div class="step-content">
                        <h3 class="step-title">Submit Update</h3>
                        <p class="step-description">Encrypted model update submitted</p>
                        <div class="step-details" id="step-2-details">Loading...</div>
                    </div>
                </div>
                <div class="pipeline-arrow">→</div>
                <div class="pipeline-step completed" data-step="3">
                    <div class="step-icon">3</div>
                    <div class="step-content">
                        <h3 class="step-title">Compute Scores</h3>
                        <p class="step-description">Contribution scores calculated</p>
                        <div class="step-details" id="step-3-details">Loading...</div>
                    </div>
                </div>
                <div class="pipeline-arrow">→</div>
                <div class="pipeline-step completed" data-step="4">
                    <div class="step-icon">4</div>
                    <div class="step-content">
                        <h3 class="step-title">Publish Model</h3>
                        <p class="step-description">Global model aggregated & published</p>
                        <div class="step-details" id="step-4-details">Loading...</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Transaction History -->
        <section class="transactions-section">
            <h2 class="section-title">Transaction History</h2>
            <div class="transactions-list" id="transactions-list">
                <!-- Transactions will be loaded here -->
            </div>
        </section>

        <!-- Epoch Summary -->
        <section class="epoch-summary">
            <h2 class="section-title">Epoch 1 Summary</h2>
            <div class="summary-grid">
                <div class="summary-card">
                    <span class="summary-label">Model Hash</span>
                    <span class="summary-value" id="model-hash">Loading...</span>
                </div>
                <div class="summary-card">
                    <span class="summary-label">Scores Root</span>
                    <span class="summary-value" id="scores-root">Loading...</span>
                </div>
                <div class="summary-card">
                    <span class="summary-label">Global Model CID</span>
                    <span class="summary-value" id="global-model-cid">Loading...</span>
                </div>
                <div class="summary-card">
                    <span class="summary-label">Global Model Hash</span>
                    <span class="summary-value" id="global-model-hash">Loading...</span>
                </div>
                <div class="summary-card">
                    <span class="summary-label">Status</span>
                    <span class="summary-value status-published">Published</span>
                </div>
            </div>
        </section>

        <!-- 0G Storage Status -->
        <section class="storage-section">
            <h2 class="section-title">0G Storage Integration</h2>
            <div class="storage-card">
                <div class="storage-status">
                    <span class="status-dot active"></span>
                    <span class="storage-status-text">Uploads Working</span>
                </div>
                <div class="storage-details" id="storage-details">
                    <!-- Storage details will be loaded here -->
                </div>
            </div>
        </section>

        <!-- Footer -->
        <footer class="footer">
            <div class="footer-content">
                <p class="footer-text">
                    Built by <strong>Balkeum Labs</strong> | 
                    <a href="https://github.com/balkeumlabs/tee-fl-0g" target="_blank" class="footer-link">View on GitHub</a> |
                    <a href="https://github.com/balkeumlabs/tee-fl-0g/blob/main/docs/MAINNET_PIPELINE_TEST_EXPLANATION.md" target="_blank" class="footer-link">Detailed Explanation</a>
                </p>
                <p class="footer-timestamp">Last updated: <span id="last-updated">Loading...</span></p>
            </div>
        </footer>
    </div>

    <script src="js/app.js"></script>
</body>
</html>
